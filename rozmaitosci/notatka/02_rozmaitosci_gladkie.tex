\section{Rozmaitości gładkie}
%Na tym wykładzie nie będziemy poświęcać dużej uwagi rozmaitościom różniczkowalnym nie nieskończenie razy, więc pomimo lekkich niuansów między tymi dwoma słowami, dla nas zwykle znaczą one to samo.
%\medskip

Na wykładzie nie będą nas zbytnio interesować rzeczy różniczkowalne tylko skończenie wiele razy. Z tego też powodu lekkie niuanse między słowami gładkie a różniczkowalne będą często pomijalne, a słowa te staną się izomorficzne. Teraz postaramy się określić, \emph{co to znaczy, że funkcja $f:M\to\R$ jest różniczkowalna?}

%
%Dla funkcji $f:M\to\R$ chcemy określić, co znaczy, że \emph{$f$ jest różniczkowalna}? Będziemy to robić za pomocą wcześniej zdefiniowanych map:
%\begin{itemize}
%    \item Funkcja $f$ \acc{wyrażona} w mapie $(U, \phi)$ to nic innego jak złożenie $f\circ \phi^{-1}:\overline U\to \R$. Teraz $f\circ\phi^{-1}$ jest funkcją zależącą od $n$ zmiennych rzeczywistych.
%    \item Chciałoby się powiedzieć, że funkcja $f: M\to\R$ jest gładka, jeśli dla każdej mapy $(U, \phi)$ na $M$, ten fragment wyrażony w tej mapie $f\circ\phi^{-1}$ jest gładki. Niestety, tych map może być nieco za dużo.
%    \item \important{Odwzorowanie przejścia między dwoma mapami} $(U_1,\phi_1)$ i $(U_2,\phi_2)$ to funkcje $\phi_1\phi_2^{-1}$ i $\phi_2\phi_1^{-1}$ określone na $U_1\cap U_2$.
%\end{itemize}

\subsection{Atlas rozmaitości}
Pojęcie różniczkowalności funkcji $f:M\to\R$ będziemy określać za pomocą \emph{map}:
\begin{itemize}
    \item Funkcja $f$ wyrażona w mapie $(U,\phi)$ to nic innego jak \acc{$f\circ\phi^{-1}:\overline{U}\to\R$}. W ten sposób dostajemy funkcję wyrażoną w zmiennych rzeczywistych.
    \item W pierwszym instynkcie możemy chcieć powiedzieć, że $f:M\to\R$ jest gładka, jeśli dla każdej mapy taka jest. Niestety, map może być bardzo dużo i może się okazać, że żadna funkcja nie jest gładka.
    \item \important{Odwzorowanie przejścia} między dwoma mapami $(U_1,\phi_1),(U_2,\phi_2)$ to funkcje $\phi_1\phi_2^{-1}$ i $\phi_2\phi_1^{-1}$ określone na $U_1\cap U_2$.
\end{itemize}


\begin{definition}[zgodność map]
Mapy $(U, \phi_1)$ oraz $(U, \phi_2)$ są \important{zgodne} (gładko-zgodne), gdy odwzorowanie przejścia $\phi_1\phi_2^{-1}$ jest gładkie. Dla map \acc{$(U, \phi)$ i $(V, \psi)$} mówimy, że są one zgodne, jeśli 
\begin{itemize}
    \item $U\cap V=\emptyset$, albo
    \item $\phi\psi^{-1}:\psi(U\cap V)\to \phi(U\cap V)$ i $\psi\phi^{-1}(U\cap V)\to \psi(U\cap V)$ są gładkie.
\end{itemize}
\end{definition}
%
%Warto zauważyć, że jeśli $(U, \phi)$ i $(V, \psi)$ są zgodne, to $f\circ\phi^{-1}\obciete (\phi(U\cap V))$ jest gładkie $\iff$
%
%Odwzorowania przejściowe map są automatycznie \emph{dyfeomorfizmami}.
%\medskip

\begin{definition}[dyfeomorfizm]
Mając dane dwie rozmaitości, $M$ i $N$, mówimy, że funkcja $f:M\to N$ jest \important{dyfeomorfizmem}, jeżeli
\begin{itemize}
    \item jest różniczkowalna
    \item jest bijekcją
    \item funkcja odwrotna $f^{-1}$ też jest różniczkowalna
\end{itemize}
\end{definition}


\begin{definition}[atlas gładki]
    \acc{Gładkim atlasem} $\set{A}$ na topologicznej rozmaitości $M$ nazywamy dowolny taki zbiór map $\{(U_\alpha,\phi_\alpha)\}$ taki, że:
    \begin{enumerate}
        \item 1. zbiory mapowe $U_\alpha$ pokrywają całe $M$
        \item 2. każde dwie mapy z tego zbioru są zgodne.
    \end{enumerate}
\end{definition}


\textbf{Przykład:}  Rodzina map $\{(U_i^\pm,\phi_i^\pm)\;:\;i=1,2,...,n+1\}$ jak wcześniej na sferze $S^n\subseteq R^{n+1}$ tworzy gładki atlas. Wystarczy zbadać gładką zgodność tych map. Rozpatrzmy jeden przypadek: $(U_i^+,\phi_i^+),(U_j^+,\phi_j^+),i<j$. Po pierwsze, jak wygląda przekrój tych zbiorów?
$$U_i\cap U_j=\{x\in S^n\;:\;x_i>0,x_j>0\}$$
Dalej, jak wyglądają obrazy tego przekroju przez poszczególne mapy?
$$\phi_i^+(U_i\cap U_j)=\{x\in\R^n\;:\;|x|<1, x_{j-1}>0\}$$
$$\phi_j^+(U_i\cap U_j)=\{x\in\R^n\;:\;|x|<1,x_i<0\}$$
Odwzorowania przejścia to:

\begin{center}\begin{tikzcd}
    \phi_j^+(U_i^+\cap U_j^+)\ni(x_1,...,x_n) \arrow[r, "\phi_j^+)^{-1}"] & (x_1,...,x_{j-1},\sqrt{1-|x|^2},x_{j},...x_n)\arrow[d,"\phi_i^+"]\\
    & (x_1,...,x_{i-1},x_{i+1},...,x_{j-1},\sqrt{1-|x|^2},x_j,...,x_n)
\end{tikzcd}\end{center}

$$\phi_i^+(\phi_j^+)^{-1}(x_1,...,x_n)=(x_1,...,x_{i-1}, x_{i+1},...,x_{j-1},\sqrt{1-|x|^2},x_j,...,x_n)$$
jest przekształceniem gładkim. Analogicznie dla drugiego odwzorowania przejścia.

\subsection{Zgodność map}

\begin{definition}[rozmaitość gładka]
    \acc{Rozmaitość gładka} to para $(M, \set{A})$ złożona z rozmaitości $M$ i gładkiego atlasu $\set{A}$ opisanego na $M$.
\end{definition}

\begin{definition}[zgodność map, atlasów]
    Niech $\set{A}_1,\set{A}_2$ będą gładkimi atlasami na $M$.
    Mówimy, że mapa $(U, \phi)$ jest zgodna z atlasem $\set{A}$, jeżeli jest zgodna z każdą mapą z $\set{A}_1$. Dalej, mówimy, że atlas $\set{A}_2$ jest zgodny z altasem $\set{A}_1$, jeżeli każda mapa z $\set{A}_1$ jest zgodna z każdą mapą z atlasu $\set{A}_2$.
\end{definition}

%
%\acc{Uściślenie:} Często $(M,\set{A}_1)$ i $(M, \set{A}_2)$ będące rozmaitościami gładkimi określają tę samą rozmaitość.
%\medskip
%
%\begin{definicja}[zgodność map, atlasów]
%Niech $\set{A}$ będzie gładkim atlasem na $M$.
%\begin{enumerate}
%    \item Mapa $(U,\phi)$ jest \deff{zgodna z atlasem $\set{A}$}, jeśli jest zgodna z każdą mapą z $\set{A}$.
%    \item Dwa \deff{atlasy $\set{A}_1,\set{A}_2$ na $M$ są zgodne}, jeśli każda mapa z $\set{A}_1$ jest zgodna z atlasem $\set{A}_2$.
%\end{enumerate}
%\end{definicja}

\begin{theorem}[zgodność to relacja równoważności]
    Relacja zgodnośc atlasów jest relacją równoważności.
\begin{proof}
Ćwiczenia
\end{proof}
\end{theorem}

\subsection{Atlas [maksymalny]}

Zgodne atlasy określają tę samą strukturę gładką na $M$. W takim razie, wygodnym będzie móc zawerzeć wszystkie zgodne atlasy w czymś większym. Z pomocą przychodzi nam pojęcie \acc{atlasu maksymalnego}.
\begin{definition}[atlas maksymalny]
    Atlas $\set{A}$ jest \important{atlasem maksymalnym}, jeżeli każda mapa $(U,\phi)$ z nim zgodna jest w nim zawarta.
\end{definition}

%\begin{tw}[zgodność to relacja równoważnośći]
%    Relacja zgodności atlasów jest relacją równoważności.
%\end{tw}
%
%\textbf{Dowód:} Ćwiczenia.
%
%Konwencja jest wtedy taka, że zgodne atlasy zadają tą samą strukturę gładką na $M$. W takim razie, zgodne atlasy można wysumować do jednego większego atlasu.
%
%\begin{definicja}[atlas maksymalny]
%$\set{A}$ jest \deff{atlasem maksymalnym} na $M$, jeśli każda mapa na $M$ z nim zgodna jest w nim zawarta. 
%\end{definicja}
%
%\begin{fakt}[dla każdego atlasu istnieje jedyny atlas maksymalny]
%    Każdy atlas $\set{A}$ na $M$ zawiera się w dokładnie jednym atlasie maksymalnym na $M$. Zaś ten atlas maksymalny to zbiór wszystkich map na $M$ zgodnych z $\set{A}$.
%\end{fakt}

\begin{fact}[każdy atlas jest zawarty w unikalnym atlasie maksymalnym]
    Każdy atlas $\set{A}$ na $M$ zawiera się w dokładnie jednym atlasie maksymalnym na $M$, który jest zbiorem wszystkich map na $M$ zgodnych z $\set{A}$.
\begin{proof}
Ćwiczenia. Korzystamy z lematu Zorna.
\end{proof}
\end{fact}

W takim razie, równoważnie do pary $(M, \set{A})$, gdzie $\set{A}$ jest dowolnym zgodnym atlasem na $M$, możemy wymóc w definicji, aby \important{$\set{A}$ był atlasem maksymalnym}.

\subsection{Funkcje gładkie}

\begin{definition}[gładkość względem atlasu]
   Funkcja $f:M\to\R$ określona na rozmaitości gładkiej $(M, \set{A})$ jest gładka, jeżeli po wyrażeniu w każdej mapie z tego atlasu jest gładka:
   $$(\forall\;(U,\phi)\in\set{A})\quad f\circ\phi^{-1}\text{ jest gładka}$$
\end{definition}

\begin{fact}
    Niech $(M,\set{A})$ będzie rozmaitością gładką, a $f:M\to\R$ będzie funkcją gładką na $M$.
    \begin{enumerate}
        \item Jeżeli $(U, \phi)$ jest mapą zgodną z $\set{A}$, to $f$ wyrażone w $(U, \phi)$, czyli $f\circ\phi^{-1}$ też jest funkcją gładką.
        \item Niech $\set{A}'$ będzie atlasem zgodnym z $\set{A}$. Wówczas funkcja $f$ jest zgodna względem $\set{A}'$ $\iff$ jest gładka względem $\set{A}'$ $\iff$ jest zgodna względem atlasu maksymalnego zawierającego oba te atlasy. 
    \end{enumerate}
\end{fact}

Co więcej, możemy powiedzieć, że $f:M\to\R$ jest gładka $\iff$ jest gładka względem każdego atlasu $\set{A}$ wyznaczającego na $M$ gładką strukturę. [Ćwiczenia]

\begin{definition}[mapa $C^k$-zgodna, $C^k$-atlas]
$ $\newline
\begin{itemize}
    \item Dwie mapy $(U, \phi)$ i $(V,\psi)$ są \important{$C^k$-zgodne}, jeżeli $\phi\psi^{-1}$ oraz $\psi\phi^{-1}$ są funkcjami klasy $C^k$.
    \item \important{$C^k$-atlas} to atlas składający się z map, które są $C^k$-zgodne
    \begin{itemize}
        \item Taki atlas określa strukturę $C^k$-rozmaitości na $M$
        \item Jest to struktura słabsza niż struktura rozmaitości gdładkiej
    \end{itemize}
\end{itemize}
\end{definition}

$C^0$ zwykle oznacza rozmaitość topologiczną, a $C^\infty$ to rozmaitość gładka.

\begin{fact}[nie można skakać $C^m\to C^k$]
Na $C^k$ rozmaitości nie można sensownie określić funkcji klasy $C^m$ dla $m>k$.
\end{fact}

Rozmaitość można definiować na różne sposoby niewymagające użycia definicji i własności topologicznych, na przykład:
\begin{itemize}
    \item \important{Rozmaitość analityczna} [$C^\omega$] to rozmaitość, dla której atlas składa się z map analitycznie zgodnych (czyli wyrażają się za pomocą szeregów potęgowych).
    \item \important{Rozmaitość zespolona} ma mapy jako funkcje w $\C^n$ zamiast w $\R^n$
    \item Rozmaitość konforemna - zachowuje kąty
    \item Rozmaitość kawałkami liniowa
\end{itemize}

Istnieją rozmaitości topologiczne, które nie dopuszczają żadnej struktury gładkiej (pierwszym takim przykładem była zwarta $10$-rozmaitość odkryta przez M. Kervaire). Z drugiej strony, z każdego maksymalnego atlasu $C^k$ rozmaitości można wybrać atlas złożony z map $C^\infty$-zgodnych, czyli na każdej $C^k$ istnieje struktura $C^\infty$ rozmaitości.

\begin{lemma}[rozmaitość gładka bez topologii]
    Niech $X$ będzie zbiorem (bez topologii). Niech $\{U_\alpha\}$ będzie kolekcją podzbiorów $X$ takich, że istnieje $n\in\N$ takie, że dla każdego $\alpha$ istnieje $\phi_\alpha:U_\alpha\to\R^n$ które jest różnowartościowe. Załóżmy, że takie $M,\{U_\alpha\},\{\phi_\alpha\}$ spełniają:
    \begin{enumerate}
        \item Dla każdego $\alpha$ $\phi_\alpha(U_\alpha)$ jest otwartym podzbiorem $\R^n$
        \item Dla każdych $\alpha,\beta$ $\phi_\alpha(U_\alpha\cap U_\beta)$ oraz $\phi_\beta(U_\alpha\cap U_\beta)$ są otwarte w $\R^n$
        \item Gdy $U_\alpha\cap U_\beta\neq\emptyset$, to 
        $$\phi_\alpha\circ\phi_\beta^{-1}:\phi_\beta(U_\alpha\cap U_\beta)\to\phi_\alpha(U_\alpha\cap U_\beta)$$
        jest gładkim \acc{dyfeomorfizmem} (gładkie i odwracalne)
        \item Przeliczalnie wiele spośród $U_\alpha$ pokrywa $X$
        \item Dla dowolnych $p,q\in X,p\neq q$ istnieją $\alpha,\beta$ oraz otwarte podzbiory $V_p\subseteq\phi_\alpha(U_\alpha), V_q\subseteq\phi_\beta(U_\beta)$ takie, że $p\in\phi_\alpha^{-1}(V_p),q\in\phi_\beta^{-1}(V_q)$ oraz $\phi_\alpha^{-1}(V_p)\cap\phi_\beta^{-1}(V_q)\emptyset$, czyli możemy \emph{rozdzielić dwa dowolne różne punkty za pomocą zbiorów otwartych w $\R^n$}.
    \end{enumerate}
    Wówczas na $X$ istnieje \important{struktura rozmaitości topologicznej na $X$}, dla której $U_\alpha$ są zbiorami otwartymi. Ponadtwo, $(U_\alpha,\phi_\alpha)$ tworzy \acc{gładki atlas na $X$}.
\end{lemma}
\begin{proof}Prezentujemy szkic dowodu:
\begin{itemize}
    \item Topologia jest produkowana jako przeciwobrazy przez poszczeglne $\phi_\alpha$
    \item Lokalna euklidesowość jest oczywista
    \item Mniejsza baza przeliczalna też śmignie [ćwiczenia]
    \item Hausdorffowość wynika z warunku 5.
\end{itemize}
\end{proof}

\textbf{PRZYKŁAD} - linie na prostej, ale nie chce już dzisiaj








